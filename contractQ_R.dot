digraph G
{
	rankdir = LR;
	
	Lin[label=" ", style=invisible];
	Lout[label=" ", style=invisible];
	Lmid[label=" ", style=invisible];
	
	Aket[label="Aket"];
	Abra[label="Abra"];
	W[label="W", shape="box"];
	
//	Lnew[label="Rnew"];
	
	Rold[label="Rold", shape="house"];
	
	Abra -> Lout [label="Rnew.out"];
	Lmid -> W [label="Rnew.mid"];
	Lin -> Aket [label="Rnew.in"];
	
	// bug: same rank & label reverses direction
	Aket -> W [label="s2"];
	W -> Abra [label="s1"];
	
	Rold -> Abra [label="Rout"];
	W -> Rold [label="Rmid"];
	Aket -> Rold [label="Rin"];
	
//	{rank=same Rnew}
	{rank=same Lin Lmid Lout}
	{rank=same Abra W Aket}
	{rank=same Rold}
}
